<div class="container">
  <h4>Top scores in race mode</h4>
  <div class="row mb-2">
    <div class="col-2">Style</div>
    <div class="col-2">Language</div>
  </div>
  <div class="row mb-4">
    <div class="col-2">
      <select class="form-control" id="inputStyle" [(ngModel)]="scoreTypeForm.style" name="inputStyle" (change)="styleChanged()">
        <option *ngFor="let s of scoreTypeForm.styles" [value]="s" [selected]="scoreTypeForm.style == s">{{scoreTypeForm.styleLabels.get(s)!.pascal}}</option>
      </select>
    </div>
    <div class="col-2">
      <select class="form-control" id="inputLanguage" [disabled]="scoreTypeForm.isLanguageDisabled()" [(ngModel)]="scoreTypeForm.language" name="inputLanguage" (change)="reload()">
        <option *ngFor="let l of scoreTypeForm.languages" [value]="l" [selected]="scoreTypeForm.language == l">{{scoreTypeForm.languageLabels.get(l)!.pascal}}</option>
      </select>
    </div>
    <div class="col-2">
      <button class="btn btn-primary" (click)="reload()">Reload</button>
    </div>
  </div>

  <div *ngIf="(scores$ | async) as scores">
    <table class="table w-auto">
      <thead>
      <tr>
        <th>&nbsp;</th>
        <th colspan="2"><span class="ml-5">Easy</span></th>
        <th colspan="2"><span class="ml-5">Normal</span></th>
        <th colspan="2"><span class="ml-5">Hard</span></th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>#</td>
        <td><span class="ml-5">Player</span></td>
        <td>Speed</td>
        <td><span class="ml-5">Player</span></td>
        <td>Speed</td>
        <td><span class="ml-5">Player</span></td>
        <td>Speed</td>
      </tr>
      <tr *ngFor="let score of scores; let i = index">
        <td>{{i + 1}}</td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[0].userName}"><span class="ml-5">{{score[0].userName}}</span></td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[0].userName}">{{score[0].speed  | number:'1.1-1'}}</td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[1].userName}"><span class="ml-5">{{score[1].userName}}</span></td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[1].userName}">{{score[1].speed  | number:'1.1-1'}}</td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[2].userName}"><span class="ml-5">{{score[2].userName}}</span></td>
        <td [ngClass]="{'text-primary font-weight-bold': userName === score[2].userName}">{{score[2].speed  | number:'1.1-1'}}</td>
      </tr>
    </table>
  </div>
</div>
